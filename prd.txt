# –¢–µ—Ö–Ω—ñ—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è: "–î–æ–±—Ä–∏–π –°—É—Å—ñ–¥" MVP
**–í–µ—Ä—Å—ñ—è –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç—É —Ä–æ–∑—Ä–æ–±–∫–∏**

## üéØ –ö–†–ò–¢–ò–ß–ù–ò–ô –ú–Ü–ù–Ü–ú–£–ú (MVP Core)
–°—Ç–≤–æ—Ä–∏—Ç–∏ –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –û–°–ë–ë –∑ —Ç—Ä—å–æ–º–∞ –æ—Å–Ω–æ–≤–Ω–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏:
1. –°–∏—Å—Ç–µ–º–∞ –≤—Ö–æ–¥—É –∑ —Ä–æ–ª—è–º–∏
2. –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ (–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –ø–ª–æ—â—ñ –∫–≤–∞—Ä—Ç–∏—Ä)
3. –°—Ç—Ä—ñ—á–∫–∞ –Ω–æ–≤–∏–Ω –≤—ñ–¥ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—ó

---

## üõ† –¢–ï–•–ù–Ü–ß–ù–ò–ô –°–¢–ï–ö (–∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ)

### Backend
- **Node.js 18+** + Express.js
- **PostgreSQL** (–±–∞–∑–∞ –¥–∞–Ω–∏—Ö)
- **JWT** –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- **bcrypt** –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤

### Frontend
- **React 18** + Vite
- **Tailwind CSS** (—à–≤–∏–¥–∫–∞ —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è)
- **Axios** –¥–ª—è API –∑–∞–ø–∏—Ç—ñ–≤
- **React Router** –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó

### Deployment
- **Render.com** (backend + PostgreSQL)
- **Vercel** (frontend)
- –û–±–∏–¥–≤–∞ –º–∞—é—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –ø–ª–∞–Ω–∏

---

## üìä –ú–û–î–ï–õ–¨ –î–ê–ù–ò–•

### –¢–∞–±–ª–∏—Ü—è: users
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    phone VARCHAR(13) UNIQUE NOT NULL,  -- +380xxxxxxxxx
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(255) NOT NULL,
    role VARCHAR(20) NOT NULL,          -- 'admin' | 'owner' | 'tenant'
    apartment_id INTEGER REFERENCES apartments(id),
    created_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü—è: apartments
```sql
CREATE TABLE apartments (
    id SERIAL PRIMARY KEY,
    number VARCHAR(10) NOT NULL,        -- "42", "15A"
    area DECIMAL(6,2) NOT NULL,         -- 65.50 –º¬≤
    balance DECIMAL(10,2) DEFAULT 0,    -- -540.50 –≥—Ä–Ω (–±–æ—Ä–≥)
    osbb_id INTEGER DEFAULT 1           -- –¥–ª—è MVP –∑–∞–≤–∂–¥–∏ 1
);
```

### –¢–∞–±–ª–∏—Ü—è: news
```sql
CREATE TABLE news (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    is_important BOOLEAN DEFAULT FALSE,
    author_id INTEGER REFERENCES users(id),
    created_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü—è: votings
```sql
CREATE TABLE votings (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    type VARCHAR(20) NOT NULL,          -- 'simple' | 'legal'
    start_date TIMESTAMP NOT NULL,
    end_date TIMESTAMP NOT NULL,
    status VARCHAR(20) DEFAULT 'draft', -- 'draft' | 'active' | 'finished'
    created_by INTEGER REFERENCES users(id),
    created_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü—è: votes
```sql
CREATE TABLE votes (
    id SERIAL PRIMARY KEY,
    voting_id INTEGER REFERENCES votings(id),
    user_id INTEGER REFERENCES users(id),
    choice VARCHAR(20) NOT NULL,        -- 'for' | 'against' | 'abstain'
    voted_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(voting_id, user_id)          -- –æ–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á = –æ–¥–∏–Ω –≥–æ–ª–æ—Å
);
```

### –¢–∞–±–ª–∏—Ü—è: invitation_codes
```sql
CREATE TABLE invitation_codes (
    id SERIAL PRIMARY KEY,
    code VARCHAR(8) UNIQUE NOT NULL,    -- "A4B9K1X2"
    apartment_id INTEGER REFERENCES apartments(id),
    role VARCHAR(20) NOT NULL,
    is_used BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT NOW()
);
```

---

## üîê API ENDPOINTS

### –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

#### `POST /api/auth/activate`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ê–∫—Ç–∏–≤–∞—Ü—ñ—è –∞–∫–∞—É–Ω—Ç—É –∑–∞ –∫–æ–¥–æ–º –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è
```json
// Request
{
  "invitation_code": "A4B9K1X2",
  "password": "SecurePass123",
  "full_name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ",
  "phone": "+380501234567"
}

// Response 200
{
  "token": "jwt_token_here",
  "user": {
    "id": 15,
    "role": "owner",
    "apartment": { "number": "42", "area": 65.5 }
  }
}

// Error 400
{ "error": "–ö–æ–¥ –Ω–µ–¥—ñ–π—Å–Ω–∏–π –∞–±–æ –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π" }
```

#### `POST /api/auth/login`
```json
// Request
{
  "phone": "+380501234567",
  "password": "SecurePass123"
}

// Response 200
{
  "token": "jwt_token_here",
  "user": { "id": 15, "role": "owner", "full_name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ" }
}

// Error 401
{ "error": "–ù–µ–≤—ñ—Ä–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –∞–±–æ –ø–∞—Ä–æ–ª—å" }
```

### Dashboard (–¥–ª—è –≤–ª–∞—Å–Ω–∏–∫—ñ–≤)

#### `GET /api/dashboard`
**–í–∏–º–∞–≥–∞—î:** Authorization header –∑ JWT
```json
// Response 200
{
  "apartment": {
    "number": "42",
    "balance": -540.50,      // –≤—ñ–¥'—î–º–Ω–∏–π = –±–æ—Ä–≥
    "area": 65.5
  },
  "latest_news": [
    {
      "id": 5,
      "title": "–†–µ–º–æ–Ω—Ç –¥–∞—Ö—É –∑–∞–≤–µ—Ä—à–µ–Ω–æ",
      "content": "–†–æ–±–æ—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ –≤ —Å—Ç—Ä–æ–∫...",
      "is_important": true,
      "created_at": "2025-01-15T10:30:00Z"
    }
  ]
}
```

### –ù–æ–≤–∏–Ω–∏

#### `GET /api/news?page=1&limit=10`
```json
// Response 200
{
  "news": [
    { "id": 5, "title": "...", "content": "...", "is_important": true, "created_at": "..." }
  ],
  "total": 23,
  "page": 1
}
```

#### `POST /api/news` (—Ç—ñ–ª—å–∫–∏ admin)
```json
// Request
{
  "title": "–í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤–æ–¥–∏",
  "content": "24 —Å—ñ—á–Ω—è –∑ 9:00 –¥–æ 14:00...",
  "is_important": true
}

// Response 201
{ "id": 6, "title": "–í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤–æ–¥–∏", ... }
```

#### `DELETE /api/news/:id` (—Ç—ñ–ª—å–∫–∏ admin)
```json
// Response 200
{ "message": "–ù–æ–≤–∏–Ω—É –≤–∏–¥–∞–ª–µ–Ω–æ" }
```

### –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è

#### `GET /api/votings?status=active`
**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** `status` = `active` | `finished` | `all`
```json
// Response 200
{
  "votings": [
    {
      "id": 3,
      "title": "–ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ—à—Ç–æ—Ä–∏—Å—É 2025",
      "description": "–î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å...",
      "type": "legal",         // 'simple' –∞–±–æ 'legal'
      "start_date": "2025-01-20T00:00:00Z",
      "end_date": "2025-01-27T23:59:59Z",
      "status": "active",
      "user_voted": false      // —á–∏ –ø—Ä–æ–≥–æ–ª–æ—Å—É–≤–∞–≤ –ø–æ—Ç–æ—á–Ω–∏–π user
    }
  ]
}
```

#### `GET /api/votings/:id`
```json
// Response 200
{
  "id": 3,
  "title": "–ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ—à—Ç–æ—Ä–∏—Å—É 2025",
  "description": "–î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å...",
  "type": "legal",
  "start_date": "...",
  "end_date": "...",
  "status": "active",
  "results": null,             // null —è–∫—â–æ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
  "user_vote": null            // null –∞–±–æ "for"/"against"/"abstain"
}

// –Ø–∫—â–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ:
{
  ...,
  "status": "finished",
  "results": {
    "for": { "count": 45, "area": 2150.5, "percentage": 55.1 },
    "against": { "count": 20, "area": 1200.0, "percentage": 30.7 },
    "abstain": { "count": 10, "area": 553.0, "percentage": 14.2 }
  }
}
```

#### `POST /api/votings` (—Ç—ñ–ª—å–∫–∏ admin)
```json
// Request
{
  "title": "–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–∞–º–µ—Ä",
  "description": "–ü—Ä–æ–ø–æ–Ω—É—î–º–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ 4 –∫–∞–º–µ—Ä–∏...",
  "type": "simple",            // 'simple' –∞–±–æ 'legal'
  "start_date": "2025-01-25T00:00:00Z",
  "end_date": "2025-02-01T23:59:59Z"
}

// Response 201
{ "id": 4, "title": "–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–∞–º–µ—Ä", ... }
```

#### `POST /api/votings/:id/vote`
```json
// Request
{
  "choice": "for"              // 'for' | 'against' | 'abstain'
}

// Response 200
{ "message": "–í–∞—à –≥–æ–ª–æ—Å –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ", "choice": "for" }

// Error 400
{ "error": "–í–∏ –≤–∂–µ –ø—Ä–æ–≥–æ–ª–æ—Å—É–≤–∞–ª–∏" }

// Error 403
{ "error": "–ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è —â–µ –Ω–µ –ø–æ—á–∞–ª–æ—Å—è" }
```

#### `GET /api/votings/:id/protocol` (—Ç—ñ–ª—å–∫–∏ admin)
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ï–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—É —É JSON (frontend –∑–≥–µ–Ω–µ—Ä—É—î PDF)
```json
// Response 200
{
  "voting": { "title": "...", "type": "legal", "start_date": "...", "end_date": "..." },
  "results": { "for": {...}, "against": {...}, "abstain": {...} },
  "votes_detail": [
    { "apartment": "42", "area": 65.5, "owner": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ", "choice": "for" },
    { "apartment": "15", "area": 48.0, "owner": "–ú–∞—Ä—ñ—è –ö–æ–≤–∞–ª—å", "choice": "against" }
  ]
}
```

### –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è (—Ç—ñ–ª—å–∫–∏ admin)

#### `GET /api/admin/apartments`
```json
// Response 200
{
  "apartments": [
    {
      "id": 1,
      "number": "42",
      "area": 65.5,
      "owner": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ",
      "phone": "+380501234567",
      "status": "activated"     // 'not_invited' | 'invited' | 'activated'
    }
  ]
}
```

#### `POST /api/admin/apartments/import`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ú–∞—Å–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç –∫–≤–∞—Ä—Ç–∏—Ä —á–µ—Ä–µ–∑ CSV
```json
// Request (FormData)
{
  "file": apartments.csv       // apartment_number,total_area,owner_name,phone
}

// Response 200
{
  "imported": 180,
  "errors": []
}

// Response 400 (—è–∫—â–æ —î –ø–æ–º–∏–ª–∫–∏)
{
  "imported": 175,
  "errors": [
    { "row": 5, "message": "–ü–ª–æ—â–∞ –º–∞—î –±—É—Ç–∏ —á–∏—Å–ª–æ–º" }
  ]
}
```

#### `POST /api/admin/invitations/generate`
```json
// Request
{
  "apartment_id": 15,
  "role": "owner"              // 'owner' –∞–±–æ 'tenant'
}

// Response 201
{
  "code": "A4B9K1X2",
  "apartment": "42",
  "role": "owner"
}
```

#### `POST /api/admin/finances/import`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –û–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—ñ–≤ —á–µ—Ä–µ–∑ CSV
```json
// Request (FormData)
{
  "file": balances.csv         // apartment_number,balance
}

// Response 200
{ "updated": 180, "updated_at": "2025-01-15T12:00:00Z" }
```

---

## üé® FRONTEND –°–¢–†–£–ö–¢–£–†–ê

### –°—Ç–æ—Ä—ñ–Ω–∫–∏ (Routes)

```
/activate              -> ActivatePage (–ø—É–±–ª—ñ—á–Ω–∞)
/login                 -> LoginPage (–ø—É–±–ª—ñ—á–Ω–∞)

/dashboard             -> DashboardPage (owner/tenant)
/news                  -> NewsListPage (–≤—Å—ñ —Ä–æ–ª—ñ)
/news/:id              -> NewsDetailPage (–≤—Å—ñ —Ä–æ–ª—ñ)
/votings               -> VotingsListPage (–≤—Å—ñ —Ä–æ–ª—ñ)
/votings/:id           -> VotingDetailPage (–≤—Å—ñ —Ä–æ–ª—ñ)

/admin                 -> AdminDashboard (—Ç—ñ–ª—å–∫–∏ admin)
/admin/apartments      -> ApartmentsManagementPage
/admin/news/create     -> CreateNewsPage
/admin/votings/create  -> CreateVotingPage
```

### –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

#### `<PrivateRoute>`
–ü–µ—Ä–µ–≤—ñ—Ä—è—î JWT —Ç–æ–∫–µ–Ω, —è–∫—â–æ –Ω–µ–º–∞—î ‚Üí redirect –Ω–∞ `/login`

#### `<RoleGuard requiredRole="admin">`
–ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —è–∫—â–æ –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å ‚Üí –ø–æ–∫–∞–∑—É—î 403

#### `<BalanceWidget>`
```jsx
<div className={balance < 0 ? 'text-red-600' : 'text-green-600'}>
  {balance < 0 ? '–ë–æ—Ä–≥: ' : '–ü–µ—Ä–µ–ø–ª–∞—Ç–∞: '}
  {Math.abs(balance).toFixed(2)} –≥—Ä–Ω
  <span className="text-gray-500">–°—Ç–∞–Ω–æ–º –Ω–∞ {lastUpdate}</span>
</div>
```

#### `<VotingCard>`
–í—ñ–¥–æ–±—Ä–∞–∂–∞—î –∫–∞—Ä—Ç–∫—É –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º:
- –Ø–∫—â–æ `status === 'active'` —ñ `user_voted === false` ‚Üí –ø–æ–∫–∞–∑–∞—Ç–∏ –∫–Ω–æ–ø–∫–∏ "–ó–ê / –ü–†–û–¢–ò / –£–¢–†–ò–ú–ê–í–°–Ø"
- –Ø–∫—â–æ `status === 'finished'` ‚Üí –ø–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

---

## üîí –ë–ï–ó–ü–ï–ö–ê (–∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ!)

### Backend Middleware

#### `authMiddleware.js`
```javascript
// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞
const jwt = require('jsonwebtoken');

function authenticate(req, res, next) {
  const token = req.headers.authorization?.split(' ')[1];
  if (!token) return res.status(401).json({ error: '–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ' });
  
  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    req.user = decoded;  // { id, role, apartment_id }
    next();
  } catch (err) {
    return res.status(401).json({ error: '–ù–µ–≤–∞–ª—ñ–¥–Ω–∏–π —Ç–æ–∫–µ–Ω' });
  }
}
```

#### `roleMiddleware.js`
```javascript
function requireRole(...roles) {
  return (req, res, next) => {
    if (!roles.includes(req.user.role)) {
      return res.status(403).json({ error: '–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–∞–≤' });
    }
    next();
  };
}
```

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞

1. **–ü–∞—Ä–æ–ª—ñ:** –•–µ—à—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ `bcrypt.hash(password, 10)`
2. **SQL:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ parameterized queries (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω—É–≤–∞—Ç–∏ SQL)
3. **HTTPS:** –û–±–æ–≤'—è–∑–∫–æ–≤–æ –¥–ª—è production (Render –Ω–∞–¥–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
4. **Validation:** –í—Å—ñ input –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –Ω–∞ backend —á–µ—Ä–µ–∑ `express-validator`
5. **CORS:** –î–æ–∑–≤–æ–ª–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ Vercel –¥–æ–º–µ–Ω frontend

---

## üìã –ü–†–Ü–û–†–ò–¢–ï–¢–ò –†–û–ó–†–û–ë–ö–ò (–ø–æ —Ç–∏–∂–Ω—è—Ö)

### –¢–∏–∂–¥–µ–Ω—å 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ PostgreSQL –Ω–∞ Render
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ (–º—ñ–≥—Ä–∞—Ü—ñ—ó)
- [ ] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `/api/auth/login` —Ç–∞ `/api/auth/activate`
- [ ] Frontend: —Å—Ç–æ—Ä—ñ–Ω–∫–∏ Login + Activate + PrivateRoute

### –¢–∏–∂–¥–µ–Ω—å 2: Dashboard + –ù–æ–≤–∏–Ω–∏
- [ ] API: `/api/dashboard`, `/api/news` (GET, POST, DELETE)
- [ ] Frontend: DashboardPage, NewsListPage
- [ ] Admin Panel: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏–Ω

### –¢–∏–∂–¥–µ–Ω—å 3-4: –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è (CORE!)
- [ ] API: `/api/votings` (–≤—Å—ñ endpoints)
- [ ] –õ–æ–≥—ñ–∫–∞ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –≥–æ–ª–æ—Å—ñ–≤ (simple vs legal)
- [ ] Frontend: VotingsListPage, VotingDetailPage
- [ ] Admin: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è

### –¢–∏–∂–¥–µ–Ω—å 5: –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- [ ] API: `/api/admin/apartments`, `/admin/invitations`
- [ ] CSV —ñ–º–ø–æ—Ä—Ç (apartments + finances)
- [ ] Frontend: ApartmentsManagementPage

### –¢–∏–∂–¥–µ–Ω—å 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- [ ] Manual testing –≤—Å—ñ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤
- [ ] –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–∞–≥—ñ–≤
- [ ] Deployment –Ω–∞ Render + Vercel

---

## üöÄ –®–í–ò–î–ö–ò–ô –°–¢–ê–†–¢ –î–õ–Ø –®–Ü-–ê–ì–ï–ù–¢–ê

### –ö—Ä–æ–∫ 1: Backend skeleton
```bash
mkdir osbb-backend && cd osbb-backend
npm init -y
npm install express pg bcrypt jsonwebtoken cors dotenv express-validator
npm install --save-dev nodemon

# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
# /src
#   /routes
#     auth.js, news.js, votings.js, admin.js
#   /middleware
#     auth.js, role.js
#   /db
#     schema.sql, connection.js
#   server.js
```

### –ö—Ä–æ–∫ 2: Frontend skeleton
```bash
npm create vite@latest osbb-frontend -- --template react
cd osbb-frontend
npm install react-router-dom axios
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p

# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
# /src
#   /pages
#   /components
#   /services
#     api.js (axios instance)
#   /contexts
#     AuthContext.jsx
```

### –ö—Ä–æ–∫ 3: –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ PostgreSQL –Ω–∞ Render.com
2. –í–∏–∫–æ–Ω–∞—Ç–∏ `schema.sql` –∑ —É—Å—ñ–º–∞ —Ç–∞–±–ª–∏—Ü—è–º–∏
3. –î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ:
```sql
-- –¢–µ—Å—Ç–æ–≤–∏–π –∞–¥–º—ñ–Ω
INSERT INTO apartments (number, area) VALUES ('ADMIN', 0);
INSERT INTO users (phone, password_hash, full_name, role, apartment_id) 
VALUES ('+380500000000', '$2b$10$...', '–ê–¥–º—ñ–Ω –ê–¥–º—ñ–Ω–æ–≤', 'admin', 1);

-- –¢–µ—Å—Ç–æ–≤—ñ –∫–≤–∞—Ä—Ç–∏—Ä–∏
INSERT INTO apartments (number, area, balance) VALUES 
('42', 65.5, -540.50),
('15', 48.0, 120.00);
```

---

## ‚úÖ DEFINITION OF DONE

–§—É–Ω–∫—Ü—ñ—è –≤–≤–∞–∂–∞—î—Ç—å—Å—è –≥–æ—Ç–æ–≤–æ—é, –∫–æ–ª–∏:
1. ‚úÖ API endpoint –ø—Ä–∞—Ü—é—î —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –¥–∞–Ω—ñ
2. ‚úÖ Frontend –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–∞–Ω—ñ
3. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É (owner –Ω–µ –º–æ–∂–µ –∑–∞–π—Ç–∏ –≤ admin panel)
4. ‚úÖ –ù–µ–º–∞—î console.error –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
5. ‚úÖ –ö–æ–¥ –∑–∞–ª–∏—Ç–∏–π –Ω–∞ GitHub

---

## üéØ MVP SUCCESS CRITERIA

**–ü—Ä–æ–¥—É–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ –¥–µ–º–æ, —è–∫—â–æ:**

1. –ê–¥–º—ñ–Ω –º–æ–∂–µ:
   - –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ 10 –∫–≤–∞—Ä—Ç–∏—Ä —á–µ—Ä–µ–∑ CSV
   - –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–¥ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è —Ç–∏–ø—É "legal"
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–Ω—É

2. –í–ª–∞—Å–Ω–∏–∫ –º–æ–∂–µ:
   - –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –∞–∫–∞—É–Ω—Ç –∑–∞ –∫–æ–¥–æ–º
   - –£–≤—ñ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
   - –ü–æ–±–∞—á–∏—Ç–∏ —Å–≤—ñ–π –±–∞–ª–∞–Ω—Å
   - –ü—Ä–æ–≥–æ–ª–æ—Å—É–≤–∞—Ç–∏ (—Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑)
   - –ü–æ–±–∞—á–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ–≥–æ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è

3. –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ:
   - –†–∞—Ö—É—î –≥–æ–ª–æ—Å–∏ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –ø–ª–æ—â—ñ (–¥–ª—è legal)
   - –ë–ª–æ–∫—É—î –ø–æ–≤—Ç–æ—Ä–Ω–µ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è
   - –ù–µ –¥–∞—î –≤–ª–∞—Å–Ω–∏–∫—É –¥–æ—Å—Ç—É–ø –¥–æ admin panel

---

## üìû –©–û –†–û–ë–ò–¢–ò, –Ø–ö–©–û –ó–ê–°–¢–†–Ø–ì

1. **–ë–∞–∑–∞ –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è?** –ü–µ—Ä–µ–≤—ñ—Ä DATABASE_URL –≤ `.env`
2. **JWT –Ω–µ –ø—Ä–∞—Ü—é—î?** –ü–µ—Ä–µ–≤—ñ—Ä JWT_SECRET —ñ expiration time
3. **CORS –ø–æ–º–∏–ª–∫–∏?** –î–æ–¥–∞–π Vercel –¥–æ–º–µ–Ω —É `cors({ origin: '...' })`
4. **CSV –ø–∞—Ä—Å–∏–Ω–≥?** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `csv-parser`

---

**–ß–∞—Å –Ω–∞ MVP: 5-6 —Ç–∏–∂–Ω—ñ–≤ –ø—Ä–∏ 3-4 –≥–æ–¥–∏–Ω–∞—Ö —Ä–æ–±–æ—Ç–∏ –Ω–∞ –¥–µ–Ω—å**

–ü–æ—á–∏–Ω–∞–π –∑ Backend + –ë–∞–∑–∞ (—Ç–∏–∂–¥–µ–Ω—å 1), –ø–æ—Ç—ñ–º –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ Frontend + API integration.